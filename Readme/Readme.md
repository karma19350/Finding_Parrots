## Finding Parrot!

### 开发环境与运行环境

**Development Environment**：Windows10 + Visual Studio 2017

**Language**：C#

**Library**：MaterialSkin

**Runtime Environment**：Windows.NET Framework 4.6.1

### 运行操作

点击Release/PathFinding.exe运行程序，程序运行后自动显示`游戏设置`页面.

​                ![1](1.png)                                  



主界面左侧为自动生成的兔子找萝卜迷宫地图，默认迷宫尺寸为8*8，初始时兔子位于迷宫左上角，胡萝卜位于迷宫右下角.其中灰色格点代表障碍，浅玫瑰色代表该格点路径代价为1，粉色代表该格点路径代价为2，淡紫色代表当前格点路径代价为3.

主界面右侧`设置地图`区域可以更改地图的各种参数. 其中`设置起点`/`设置终点`/`设置障碍`均为单选框. 选项`设置起点`选中状态下，点击左侧地图内除终止点外任意有效格点，可以将兔子挪至该处；选中`设置终点`时，点击地图内除兔子所在点外的任意有效格点，可以将胡萝卜挪至该处；选中`设置障碍`时，点击地图内除兔子和胡萝卜所在点外的任意有效格点，可以改变格点状态：原先为障碍的格点将随机变为任意代价的可通过节点，原先可通过节点将变为障碍. 

`设置宽度`/`设置高度`均为可编辑文本框，可以对地图尺寸进行更改，规定所设置迷宫形状可以为任意矩形，尺寸不小于5x5，不大于20x20. 修改迷宫尺寸后需要点击`更改尺寸设置`进行保存. 此时会弹出对话框提示“是否确认更改”，确认更改后，迷宫将依设置进行适当缩放后在左侧区域内居中显示. 更改迷宫尺寸后，所有格点类型将重新随机生成，先前针对起点/终点/障碍的设置将消失.

点击`随机生成地图`，迷宫尺寸/兔子所在位置/胡萝卜所在位置均保持不变，其余格点的类型将重新生成，默认生成障碍的概率为25%

主界面右侧`选择算法`区域为复选框，可以勾选所有希望进行的搜索算法，点击`开始游戏`，搜索将开始进行，同时程序将自动跳转到搜索结果显示页面. ​           ![](2.png)

选择多种搜索算法时，将按照宽度优先搜索，深度优先搜索，最佳优先搜索，一致代价(Dijkstra)搜索，A*搜索，双向宽度优先搜索的顺序根据用户勾选情况进行搜索. 主界面左侧将动态展示搜索过程，其中淡蓝色格点为已处理节点，天蓝色格点代表已拓展待处理节点；主界面右侧将实时显示搜索过程的详细信息，包括Open表节点个数，Closed表节点个数，操作数等(关于操作数，路径长度与路径代价的定义详见第2部分). 搜索结束后，若存在从兔子到胡萝卜的最短或最小代价路径，程序将用紫红色对路径在地图上进行绘制显示，同时右侧将显示当前算法搜索到的路径长度/代价；若不存在通路，右侧路径长度/代价一栏将显示“Do Not Exist.”

所有勾选算法执行完毕后，页面右下侧将显示当前兔子找胡萝卜所花费的最小路径长度与最小路径代价，并显示找到该最小长度/最小代价路径的算法名称. 点击`还原地图显示`可以在当前搜索结果页面显示搜索前的原地图，方便对搜索结果进行分析考察.

搜索过程未结束前，切换页面、点击地图格点、点击还原地图显示等操作均无效；所有搜索算法执行结束后，若切换至游戏搜索界面，地图将恢复搜索前显示(搜索结果将继续保留直至下一次游戏开始将结果覆盖)，重新进行设置与选择算法后可以多次进行游戏. 点击关闭程序将正常退出. 